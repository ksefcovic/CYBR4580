{"ast":null,"code":"import { railsActions } from 'redux-rails';\nimport { ApiHelper } from '../ApiHelper';\nimport { addDevice, addNewDeviceSuccess, addNewDeviceFailed, removeDeviceSuccess, removeDeviceFailed, updateDeviceStatus, updateDeviceStatusSuccess, updateDeviceStatusFailed, setLoading } from './actions';\nimport axios from 'axios';\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onAddDevice: function onAddDevice(userId, name) {\n      console.log(\"On Add DeviceIn Dispatch\");\n      dispatch(setLoading(true));\n      axios.post(ApiHelper.ADD_DEVICE_ENDPOINT, {\n        user_id: userId,\n        name: name\n      }).then(function (response) {\n        dispatch(addNewDeviceSuccess(response.data.devices));\n        dispatch(setLoading(false));\n      })[\"catch\"](function (error) {\n        dispatch(addNewDeviceFailed(error));\n        dispatch(setLoading(false));\n      });\n    },\n    onRemoveDevice: function onRemoveDevice(deviceId, userId) {\n      dispatch(setLoading(true));\n      axios[\"delete\"](ApiHelper.REMOVE_DEVICE_ENDPOINT(deviceId)).then(function (response) {\n        console.log(\"SUCCES!\", response);\n        dispatch(removeDeviceSuccess(response.data.devices));\n        dispatch(setLoading(false));\n      })[\"catch\"](function (error) {\n        console.log(\"ERROR!\", error); //dispatch(updateDeviceStatusFailed(error))\n\n        dispatch(setLoading(false));\n      });\n    },\n    onUpdateDeviceStatus: function onUpdateDeviceStatus(deviceId, status) {\n      dispatch(setLoading(true));\n      axios.patch(ApiHelper.UPDATE_STATUS_ENDPOINT(deviceId), {\n        status: status\n      }).then(function (response) {\n        console.log(\"SUCCES!\", response);\n        dispatch(updateDeviceStatusSuccess(response));\n        dispatch(setLoading(false));\n      })[\"catch\"](function (error) {\n        console.log(\"ERROR!\", error);\n        dispatch(updateDeviceStatusFailed(error));\n        dispatch(setLoading(false));\n      });\n    }\n  };\n};\n\nexport default mapDispatchToProps;","map":{"version":3,"sources":["/Users/laurenshultz/Dev/web/CYBR4580/find_my_device_app/application/app/javascript/components/dispatch.js"],"names":["railsActions","ApiHelper","addDevice","addNewDeviceSuccess","addNewDeviceFailed","removeDeviceSuccess","removeDeviceFailed","updateDeviceStatus","updateDeviceStatusSuccess","updateDeviceStatusFailed","setLoading","axios","mapDispatchToProps","dispatch","onAddDevice","userId","name","console","log","post","ADD_DEVICE_ENDPOINT","user_id","then","response","data","devices","error","onRemoveDevice","deviceId","REMOVE_DEVICE_ENDPOINT","onUpdateDeviceStatus","status","patch","UPDATE_STATUS_ENDPOINT"],"mappings":"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","sourcesContent":["import { railsActions } from 'redux-rails'\nimport { ApiHelper } from '../ApiHelper'\nimport { \n    addDevice, \n    addNewDeviceSuccess, \n    addNewDeviceFailed, \n    removeDeviceSuccess,\n    removeDeviceFailed,\n    updateDeviceStatus,\n    updateDeviceStatusSuccess,\n    updateDeviceStatusFailed,\n    setLoading\n} from './actions';\nimport axios from 'axios';\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      onAddDevice: (userId, name) => {\n        console.log(\"On Add DeviceIn Dispatch\");\n        dispatch(setLoading(true))\n        axios.post(ApiHelper.ADD_DEVICE_ENDPOINT, { user_id: userId, name: name })\n        .then(function (response) {\n            dispatch(addNewDeviceSuccess(response.data.devices))\n            dispatch(setLoading(false))\n        })\n        .catch(function (error) {\n            dispatch(addNewDeviceFailed(error))\n            dispatch(setLoading(false))\n        });\n      },\n      onRemoveDevice: (deviceId, userId) => {\n        dispatch(setLoading(true))\n        axios.delete(ApiHelper.REMOVE_DEVICE_ENDPOINT(deviceId))\n        .then(function (response) {\n            console.log(\"SUCCES!\", response);\n            dispatch(removeDeviceSuccess(response.data.devices))\n            dispatch(setLoading(false))\n        })\n        .catch(function (error) {\n            console.log(\"ERROR!\", error);\n            //dispatch(updateDeviceStatusFailed(error))\n            dispatch(setLoading(false))\n        });\n      },\n      onUpdateDeviceStatus: (deviceId, status) => {\n        dispatch(setLoading(true))\n        axios.patch(ApiHelper.UPDATE_STATUS_ENDPOINT(deviceId), { status })\n        .then(function (response) {\n            console.log(\"SUCCES!\", response);\n            dispatch(updateDeviceStatusSuccess(response))\n            dispatch(setLoading(false))\n        })\n        .catch(function (error) {\n            console.log(\"ERROR!\", error);\n            dispatch(updateDeviceStatusFailed(error))\n            dispatch(setLoading(false))\n        });\n      }\n    }\n}\n\nexport default mapDispatchToProps;\n"]},"metadata":{},"sourceType":"module"}