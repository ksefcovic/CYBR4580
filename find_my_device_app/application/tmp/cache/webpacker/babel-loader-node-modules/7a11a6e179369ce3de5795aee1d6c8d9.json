{"ast":null,"code":"function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n!function (e, t) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = t(require(\"redux\")) : \"function\" == typeof define && define.amd ? define([\"redux\"], t) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports[\"redux-rails\"] = t(require(\"redux\")) : e[\"redux-rails\"] = t(e.redux);\n}(\"undefined\" != typeof self ? self : this, function (e) {\n  return function (e) {\n    var t = {};\n\n    function r(o) {\n      if (t[o]) return t[o].exports;\n      var a = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(a.exports, a, a.exports, r), a.l = !0, a.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, o) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == _typeof(e) && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (r.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var a in e) {\n        r.d(o, a, function (t) {\n          return e[t];\n        }.bind(null, a));\n      }\n      return o;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e[\"default\"];\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 1);\n  }([function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = 0,\n        a = (t.determinOptimisticUpdateSetting = function (e) {\n      var t = e.resourceConfig,\n          r = e.config,\n          o = e.defaultConfig,\n          a = void 0 === o ? {} : o;\n      return i(t.optimisticUpdateEnabled) ? t.optimisticUpdateEnabled : i(r.resources.optimisticUpdateEnabled) ? r.resources.optimisticUpdateEnabled : i(r.optimisticUpdateEnabled) ? r.optimisticUpdateEnabled : !i(a.optimisticUpdateEnabled) || a.optimisticUpdateEnabled;\n    }, t.determineResourceType = function (e) {\n      var t = e.controller;\n      return \"s\" === t[t.length - 1] ? \"collection\" : \"member\";\n    }),\n        i = (t.getResourceNameSpace = function (e) {\n      var t = e.config,\n          r = e.resource,\n          o = t.resources[r].controller;\n      return \"collection\" === a({\n        controller: o\n      }) ? \"models\" : \"attributes\";\n    }, t.getResourceIdAttribute = function (e) {\n      var t = e.config,\n          r = e.resource;\n      return t.resources[r].idAttribute || \"id\";\n    }, t.getUniqueClientId = function () {\n      return ++o;\n    }, t.isBool = function (e) {\n      return \"boolean\" == typeof e;\n    });\n\n    t.getConfig = function (e) {\n      var t = e.config,\n          r = e.store;\n      return \"function\" == typeof t ? t(r) : t;\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.railsActions = t.middleWare = t.combineConfigs = t.apiReducer = void 0;\n    var o = c(r(2)),\n        a = c(r(3)),\n        i = c(r(6)),\n        n = c(r(7));\n\n    function c(e) {\n      return e && e.__esModule ? e : {\n        \"default\": e\n      };\n    }\n\n    t.apiReducer = a[\"default\"], t.combineConfigs = n[\"default\"], t.middleWare = o[\"default\"], t.railsActions = i[\"default\"];\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      return function (e, t) {\n        if (Array.isArray(e)) return e;\n        if (Symbol.iterator in Object(e)) return function (e, t) {\n          var r = [],\n              o = !0,\n              a = !1,\n              i = void 0;\n\n          try {\n            for (var n, c = e[Symbol.iterator](); !(o = (n = c.next()).done) && (r.push(n.value), !t || r.length !== t); o = !0) {\n              ;\n            }\n          } catch (e) {\n            a = !0, i = e;\n          } finally {\n            try {\n              !o && c[\"return\"] && c[\"return\"]();\n            } finally {\n              if (a) throw i;\n            }\n          }\n\n          return r;\n        }(e, t);\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      };\n    }(),\n        a = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var o in r) {\n          Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);\n        }\n      }\n\n      return e;\n    },\n        i = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n      return _typeof(e);\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);\n    },\n        n = r(0),\n        c = {},\n        d = {\n      SHOW: \"GET\",\n      INDEX: \"GET\",\n      CREATE: \"POST\",\n      UPDATE: \"PUT\",\n      DESTROY: \"DELETE\"\n    },\n        s = function s(e, t) {\n      return e + \"=\" + encodeURIComponent(t);\n    },\n        u = function u(e, t) {\n      return Array.isArray(t) ? function (e, t) {\n        return t.map(function (t) {\n          return s(e + \"[]\", t);\n        });\n      }(e, t) : s(e, t);\n    },\n        l = function l(e) {\n      var t = e.baseUrl,\n          r = e.controller,\n          o = e.railsAction,\n          a = e.data,\n          i = e.queryParams,\n          c = void 0 === i ? {} : i,\n          s = (0, n.determineResourceType)({\n        controller: r\n      }),\n          l = function (e) {\n        return e.includes(\"/:id/\");\n      }(r),\n          f = function f() {\n        return l || \"collection\" === s && \"INDEX\" !== o && \"CREATE\" !== o ? \"/\" + a.id : \"\";\n      },\n          m = function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            t = arguments[1],\n            r = Object.keys(e).filter(function (t) {\n          return void 0 !== e[t] || null !== e[t];\n        });\n        return 0 === r.length || \"GET\" !== d[t] ? \"\" : \"?\" + r.map(function (t) {\n          return u(t, e[t]);\n        }).join(\"&\");\n      }(c, o);\n\n      return \"\" + (l ? (\"\" + t + r).replace(\"/:id\", f()) : \"\" + t + r + f()) + m;\n    },\n        f = function f(e) {\n      var t = e.resource,\n          r = p({\n        resource: t\n      });\n      r.shift(), r.length > 0 && b(r[0]);\n    },\n        m = function m(e) {\n      var t = e.store,\n          r = e.resource,\n          o = e.railsAction,\n          a = e.error,\n          i = e.id,\n          n = e.cId,\n          c = e.optimisticUpdateEnabled,\n          d = e.reject,\n          s = {\n        type: r + \".\" + o + \"_ERROR\",\n        error: a,\n        id: i,\n        cId: n\n      },\n          u = \"CREATE\" === o;\n      t.dispatch(s), [\"CREATE\", \"UPDATE\"].includes(o) && c && t.dispatch({\n        type: r + \".UNSET_OPTIMISTIC_DATA\",\n        id: i,\n        cId: n,\n        destroy: u\n      }), d(s);\n    },\n        b = function b(e) {\n      var t = e.store,\n          r = e.resource,\n          o = e.config,\n          a = e.data,\n          c = void 0 === a ? {} : a,\n          s = e.railsAction,\n          u = e.controllerOverride,\n          b = e.fetchParamsOverride,\n          p = e.queryParamsOverride,\n          y = e.resolve,\n          g = e.reject,\n          E = o.resources[r],\n          I = E.baseUrl || o.baseUrl,\n          A = u || E.controller,\n          h = (0, n.getResourceIdAttribute)({\n        config: o,\n        resource: r\n      }),\n          M = b || E.fetchParams || o.fetchParams,\n          S = p || E.queryParams || o.queryParams,\n          D = function (e) {\n        var t = e.railsAction,\n            r = (e.resource, e.config, e.data),\n            o = e.fetchParams,\n            a = void 0 === o ? {} : o,\n            n = d[t],\n            c = new Headers(a.headers || {}),\n            s = Object.assign({}, a, {\n          method: n,\n          headers: c\n        });\n        return \"object\" === (void 0 === r ? \"undefined\" : i(r)) && \"GET\" !== n && (s.body = JSON.stringify(r)), s;\n      }({\n        railsAction: s,\n        resource: r,\n        data: c,\n        config: o,\n        fetchParams: M\n      }),\n          O = l({\n        baseUrl: I,\n        controller: A,\n        railsAction: s,\n        data: c,\n        fetchParams: M,\n        queryParams: S\n      }),\n          _ = (0, n.determinOptimisticUpdateSetting)({\n        resourceConfig: E,\n        config: o\n      }),\n          T = void 0;\n\n      \"CREATE\" === s && (T = (0, n.getUniqueClientId)(), t.dispatch({\n        type: r + \".ASSIGN_CID\",\n        cId: T\n      }), t.dispatch({\n        type: r + \".SET_LOADING\",\n        cId: T\n      })), [\"CREATE\", \"UPDATE\"].includes(s) && _ && t.dispatch({\n        type: r + \".SET_OPTIMISTIC_DATA\",\n        id: c.id,\n        cId: T,\n        data: c\n      }), fetch(O, D).then(function (e) {\n        e.json().then(function (a) {\n          var i = a && a[h] || c.id;\n          if (!e.ok) return m({\n            store: t,\n            resource: r,\n            railsAction: s,\n            id: i,\n            cId: T,\n            optimisticUpdateEnabled: _,\n            reject: g,\n            error: a.error || {\n              message: e.statusText\n            }\n          });\n          !function (e) {\n            var t = e.store,\n                r = e.resource,\n                o = e.railsAction,\n                a = e.id,\n                i = e.cId,\n                c = e.json,\n                d = e.config,\n                s = e.controller,\n                u = e.resolve,\n                l = r + \".\" + o + \"_SUCCESS\",\n                f = v({\n              json: c,\n              resource: r,\n              config: d,\n              resourceType: (0, n.determineResourceType)({\n                controller: s\n              })\n            }),\n                m = f.response,\n                b = {\n              cId: i,\n              id: a,\n              metaData: f.metaData,\n              response: m,\n              type: l\n            };\n            t.dispatch(b), u(b);\n          }({\n            store: t,\n            resource: r,\n            railsAction: s,\n            id: i,\n            cId: T,\n            json: a,\n            config: o,\n            controller: A,\n            optimisticUpdateEnabled: _,\n            resolve: y\n          });\n        })[\"catch\"](function (e) {\n          var o = e && e.toString && e.toString();\n          m({\n            store: t,\n            resource: r,\n            railsAction: s,\n            error: o,\n            id: c.id,\n            cId: T,\n            optimisticUpdateEnabled: _,\n            reject: g\n          });\n        });\n      })[\"catch\"](function (e) {\n        m({\n          store: t,\n          resource: r,\n          railsAction: s,\n          error: e,\n          id: c.id,\n          cId: T,\n          optimisticUpdateEnabled: _,\n          reject: g\n        });\n      }).then(function () {\n        return f({\n          resource: r\n        });\n      });\n    },\n        p = function p(e) {\n      var t = e.resource;\n      return c[t] || (c[t] = {\n        queue: []\n      }), c[t].queue;\n    },\n        v = function v(e) {\n      var t = e.json,\n          r = e.resource,\n          o = e.config,\n          a = e.resourceType,\n          n = o.resources[r].parse,\n          c = o.resources[r].setMetadata,\n          d = void 0,\n          s = {};\n\n      switch (void 0 === n ? \"undefined\" : i(n)) {\n        case \"object\":\n          var u = n && n[a];\n\n          if (!u) {\n            d = t;\n            break;\n          }\n\n          d = u(t);\n          break;\n\n        case \"function\":\n          d = n(t);\n          break;\n\n        default:\n          d = t;\n      }\n\n      switch (void 0 === c ? \"undefined\" : i(c)) {\n        case \"object\":\n          var l = c && c[a];\n          if (!l) break;\n          s = l(t);\n          break;\n\n        case \"function\":\n          s = c(t);\n          break;\n\n        default:\n          s = {};\n      }\n\n      return {\n        response: d,\n        metaData: s\n      };\n    },\n        y = function y(e) {\n      var t = e.action,\n          r = e.config,\n          o = e.fetchData,\n          i = e.next,\n          n = e.resource,\n          c = e.resourceConfig,\n          d = new Promise(function (e, t) {\n        var i = a({\n          resolve: e,\n          reject: t\n        }, o);\n        (r.disableFetchQueueing || c.disableFetchQueueing) && b(i), function (e, t) {\n          var r = p({\n            resource: e\n          });\n          r.push(t), r.length <= 1 && b(t);\n        }(n, i);\n      });\n      return i(t), d;\n    };\n\n    t[\"default\"] = function (e) {\n      return function (t) {\n        return function (r) {\n          return function (a) {\n            var i = (0, n.getConfig)({\n              config: e,\n              store: t.getState()\n            }),\n                c = a.type.split(\".\"),\n                s = o(c, 2),\n                u = s[0],\n                l = s[1],\n                f = a.data,\n                m = a.controller,\n                b = a.fetchParams,\n                p = (f || {}).queryParams,\n                v = {\n              store: t,\n              resource: u,\n              config: i,\n              data: f,\n              railsAction: l,\n              controllerOverride: m,\n              fetchParamsOverride: b,\n              queryParamsOverride: p\n            },\n                g = i.resources[u];\n            return g && d[l] ? y({\n              action: a,\n              config: i,\n              fetchData: v,\n              next: r,\n              resource: u,\n              resourceConfig: g\n            }) : r(a);\n          };\n        };\n      };\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n      return _typeof(e);\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);\n    },\n        a = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var o in r) {\n          Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);\n        }\n      }\n\n      return e;\n    },\n        i = r(4),\n        n = r(5),\n        c = r(0);\n\n    function d(e) {\n      if (Array.isArray(e)) {\n        for (var t = 0, r = Array(e.length); t < e.length; t++) {\n          r[t] = e[t];\n        }\n\n        return r;\n      }\n\n      return Array.from(e);\n    }\n\n    t[\"default\"] = function (e) {\n      var t = (0, c.getConfig)({\n        config: e\n      }),\n          r = {};\n      return Object.keys(t.resources).forEach(function (e) {\n        r[e] = function () {\n          var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : (0, n.getInitialState)({\n            config: t,\n            resource: e\n          }),\n              i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n              s = t.resources[e] || {},\n              u = \"attributes\" === (0, c.getResourceNameSpace)({\n            config: t,\n            resource: e\n          }),\n              l = (0, c.getResourceIdAttribute)({\n            config: t,\n            resource: e\n          }),\n              f = (i.data || {}).queryParams;\n\n          switch (i.type) {\n            case e + \".INDEX\":\n              var m = s.paginated;\n              return a({}, r, (0, n.createNewCollection)({\n                metaData: {\n                  loading: !0,\n                  queryParams: f\n                },\n                models: m ? r.models : []\n              }));\n\n            case e + \".INDEX_SUCCESS\":\n              var b = i.response,\n                  p = i.metaData,\n                  v = i.response[e] || i.response[e.toLowerCase()];\n\n              if (!Array.isArray(i.response)) {\n                if (!v || !Array.isArray(v)) return console.error(\"Response to INDEX actions must be of type array OR contain a top-level key matching the resource name with an array as the value. You can use the parse method(s) set in your config for this resource to transform returned data if needed.\"), a({}, r, (0, n.createNewCollection)({\n                  metaData: {\n                    loading: !1,\n                    loadingError: \"Bad data received from server. INDEX calls expect an array.\"\n                  }\n                }));\n                b = v;\n              }\n\n              return s.paginated && function () {\n                var e = b.reduce(function (e, t) {\n                  return a({}, e, function (e, t, r) {\n                    return t in e ? Object.defineProperty(e, t, {\n                      value: r,\n                      enumerable: !0,\n                      configurable: !0,\n                      writable: !0\n                    }) : e[t] = r, e;\n                  }({}, t.id, !0));\n                }, {});\n                b = [].concat(d(r.models.map(function (e) {\n                  return e.attributes;\n                }).filter(function (t) {\n                  return !e[t.id];\n                })), d(b));\n              }(), a({}, r, (0, n.createNewCollection)({\n                models: b.map(function (e) {\n                  return (0, n.createNewModel)({\n                    id: e[l],\n                    attributes: e\n                  });\n                }),\n                metaData: p\n              }));\n\n            case e + \".INDEX_ERROR\":\n              var y = i.error;\n              return a({}, r, (0, n.createNewCollection)({\n                metaData: {\n                  loading: !1,\n                  loadingError: y\n                }\n              }));\n\n            case e + \".SHOW\":\n              var g = (i.data || {}).id;\n              return u ? (0, n.createNewModel)({\n                metaData: {\n                  loading: !0,\n                  queryParams: f\n                },\n                attributes: r.attributes\n              }) : a({}, r, {\n                models: (0, n.setMemberLoading)({\n                  id: g,\n                  state: r,\n                  queryParams: f\n                })\n              });\n\n            case e + \".SHOW_SUCCESS\":\n              var E = i.id,\n                  I = i.response,\n                  A = i.metaData,\n                  h = I;\n              return u ? (0, n.createNewModel)({\n                id: E,\n                metaData: A,\n                attributes: a({}, r.attributes, h)\n              }) : a({}, r, (0, n.createNewCollection)({\n                models: (0, n.setMemberAttributes)({\n                  id: E,\n                  data: h,\n                  state: r,\n                  metaData: a({\n                    loading: !1\n                  }, A)\n                })\n              }));\n\n            case e + \".SHOW_ERROR\":\n              var M = i.id,\n                  S = i.error;\n              return u ? (0, n.createNewModel)({\n                id: M,\n                attributes: a({}, r.attributes),\n                metaData: {\n                  loadingError: S\n                }\n              }) : a({}, r, {\n                models: (0, n.setMemberLoadingError)({\n                  state: r,\n                  id: M,\n                  error: S\n                })\n              });\n\n            case e + \".ASSIGN_CID\":\n              var D = i.cId;\n              return u ? (0, n.createNewModel)({\n                cId: D\n              }) : (0, n.createNewCollection)({\n                models: (0, n.setMemberAttributes)({\n                  cId: D,\n                  state: r\n                })\n              });\n\n            case e + \".CREATE_SUCCESS\":\n              var O = i.cId,\n                  _ = i.id,\n                  T = i.response,\n                  C = i.metaData,\n                  P = T;\n              return u ? (0, n.createNewModel)({\n                id: _,\n                cId: O,\n                attributes: a({}, r.attributes, P),\n                metaData: C\n              }) : (0, n.createNewCollection)({\n                models: (0, n.setMemberAttributes)({\n                  data: P,\n                  state: r,\n                  id: _,\n                  cId: O,\n                  metaData: C\n                })\n              });\n\n            case e + \".CREATE_ERROR\":\n              var j = i.id,\n                  w = i.cId,\n                  N = i.error;\n              return u ? (0, n.createNewModel)({\n                id: j,\n                cId: w,\n                metaData: {\n                  loadingError: N\n                }\n              }) : a({}, r, {\n                models: (0, n.setMemberLoadingError)({\n                  state: r,\n                  id: j,\n                  cId: w,\n                  error: N\n                })\n              });\n\n            case e + \".UPDATE\":\n              var U = (i.data || {}).id,\n                  R = r.__prevData;\n              return u ? (0, n.createNewModel)({\n                id: U,\n                metaData: {\n                  loading: !0,\n                  __prevData: R\n                },\n                attributes: r.attributes\n              }) : a({}, r, {\n                models: (0, n.setMemberLoading)({\n                  id: U,\n                  state: r\n                })\n              });\n\n            case e + \".UPDATE_SUCCESS\":\n              var q = i.id,\n                  x = i.metaData,\n                  L = i.response;\n              return u ? (0, n.createNewModel)({\n                id: q,\n                attributes: a({}, r.attributes, L),\n                metaData: x\n              }) : a({}, r, {\n                models: (0, n.setMemberAttributes)({\n                  id: q,\n                  data: L,\n                  metaData: x,\n                  state: r,\n                  replaceAttributes: !1\n                })\n              });\n\n            case e + \".UPDATE_ERROR\":\n              var k = i.id,\n                  W = i.error;\n              return u ? (0, n.createNewModel)({\n                id: k,\n                attributes: r.attributes,\n                metaData: {\n                  loadingError: W\n                }\n              }) : a({}, r, {\n                models: (0, n.setMemberLoadingError)({\n                  state: r,\n                  id: k,\n                  error: W\n                })\n              });\n\n            case e + \".DESTROY\":\n              var G = (i.data || {}).id || r.id;\n              return u ? (0, n.createNewModel)({\n                id: G,\n                attributes: r.attributes,\n                metaData: {\n                  loading: !0\n                }\n              }) : a({}, r, {\n                models: (0, n.setMemberLoading)({\n                  idAttribute: l,\n                  id: G,\n                  state: r\n                })\n              });\n\n            case e + \".DESTROY_SUCCESS\":\n              var X = i.id;\n              return u ? null : a({}, r, {\n                models: (0, n.destroyMember)({\n                  idAttribute: l,\n                  id: X,\n                  state: r\n                })\n              });\n\n            case e + \".DESTROY_ERROR\":\n              var H = i.id,\n                  Y = i.error;\n              return a({}, r, u ? {\n                loading: !1,\n                loadingError: Y\n              } : {\n                models: (0, n.setMemberLoadingError)({\n                  state: r,\n                  id: H,\n                  idAttribute: l,\n                  error: Y\n                })\n              });\n\n            case e + \".SET_LOADING\":\n              var B = i.id,\n                  F = i.cId;\n              return a({}, r, u ? {\n                loading: !0,\n                loadingError: void 0\n              } : {\n                models: (0, n.setMemberLoading)({\n                  idAttribute: l,\n                  id: B,\n                  cId: F,\n                  state: r\n                })\n              });\n\n            case e + \".SET_OPTIMISTIC_DATA\":\n              var Q = function () {\n                var e,\n                    t = i.id,\n                    o = i.cId,\n                    c = i.data,\n                    d = u ? r : (0, n.findModel)({\n                  id: t,\n                  cId: o,\n                  state: r\n                }),\n                    s = a({}, d.attributes),\n                    l = {};\n                return Object.keys(n.apiDefaultState).forEach(function (e) {\n                  l[e] = d[e];\n                }), e = a({}, l, {\n                  __prevData: s\n                }), u ? {\n                  v: (0, n.createNewModel)({\n                    id: t,\n                    cId: o,\n                    attributes: a({}, d.attributes, c),\n                    metaData: e\n                  })\n                } : {\n                  v: (0, n.createNewCollection)({\n                    models: (0, n.setMemberAttributes)({\n                      data: c,\n                      state: r,\n                      id: t,\n                      cId: o,\n                      metaData: e\n                    })\n                  })\n                };\n              }();\n\n              if (\"object\" === (void 0 === Q ? \"undefined\" : o(Q))) return Q.v;\n\n            case e + \".UNSET_OPTIMISTIC_DATA\":\n              var J = i.id,\n                  z = i.cId,\n                  K = i.destroy,\n                  V = u ? r : (0, n.findModel)({\n                id: J,\n                cId: z,\n                state: r\n              });\n              return K && u ? null : K ? a({}, r, {\n                models: (0, n.destroyTempMemeber)({\n                  cId: z,\n                  state: r\n                })\n              }) : u ? (0, n.createNewModel)({\n                id: J,\n                cId: z,\n                attributes: V.__prevData\n              }) : (0, n.createNewCollection)({\n                models: (0, n.setMemberAttributes)({\n                  data: V.__prevData,\n                  state: r,\n                  id: J,\n                  cId: z\n                })\n              });\n\n            default:\n              var Z = t.resources[e];\n              return Z && Z.reducer ? Z.reducer(r, i) : r;\n          }\n        };\n      }), (0, i.combineReducers)(r);\n    };\n  }, function (t, r) {\n    t.exports = e;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.getInitialState = t.setMemberLoadingError = t.setMemberLoading = t.destroyTempMemeber = t.destroyMember = t.setMemberAttributes = t.collectionWithUpdatedModel = t.collectionWithNewModel = t.createNewCollection = t.createNewModel = t.findModel = t.apiDefaultState = void 0;\n\n    var o = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var o in r) {\n          Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);\n        }\n      }\n\n      return e;\n    },\n        a = r(0);\n\n    var i = t.apiDefaultState = {\n      loading: !1,\n      loadingError: void 0,\n      __prevData: void 0\n    },\n        n = t.findModel = function (e) {\n      var t = e.id,\n          r = e.cId,\n          o = e.state,\n          a = o.models && o.models.slice(0) || [],\n          i = void 0,\n          n = void 0;\n      return a.find(function (e) {\n        return i = void 0 !== e.id, n = void 0 !== r, i && e.id === t || n && e.cId === r;\n      });\n    },\n        c = t.createNewModel = function (e) {\n      var t = e.id,\n          r = e.cId,\n          a = e.metaData,\n          n = e.attributes,\n          c = {\n        id: t,\n        cId: r,\n        attributes: o({}, void 0 === n ? {} : n)\n      };\n      return Object.keys(c).forEach(function (e) {\n        return void 0 === c[e] ? delete c[e] : \"\";\n      }), o({}, i, a, c);\n    },\n        d = t.createNewCollection = function (e) {\n      var t = e.metaData,\n          r = e.models;\n      return o({}, i, t, {\n        models: void 0 === r ? [] : r\n      });\n    },\n        s = t.collectionWithNewModel = function (e) {\n      var t = e.state,\n          r = e.model,\n          o = t.models || [];\n      return [].concat(function (e) {\n        if (Array.isArray(e)) {\n          for (var t = 0, r = Array(e.length); t < e.length; t++) {\n            r[t] = e[t];\n          }\n\n          return r;\n        }\n\n        return Array.from(e);\n      }(o), [r]);\n    },\n        u = t.collectionWithUpdatedModel = function (e) {\n      var t = e.id,\n          r = e.cId,\n          o = e.state,\n          a = e.updatedModel,\n          i = o.models && o.models.slice(0) || [],\n          n = void 0,\n          c = void 0;\n      return i.map(function (e) {\n        return n = void 0 !== e.id, c = void 0 !== r, n && e.id === t || c && e.cId === r ? a : e;\n      });\n    },\n        l = t.setMemberAttributes = function (e) {\n      var t,\n          r = e.id,\n          a = e.data,\n          i = e.metaData,\n          d = e.state,\n          l = e.cId,\n          f = e.replaceAttributes,\n          m = void 0 === f || f,\n          b = (e.replaceMeta, n({\n        id: r,\n        cId: l,\n        state: d\n      }));\n      return b ? (t = m ? a : o({}, b.attributes, a), !l && b.cId && (l = b.cId), u({\n        id: r,\n        cId: l,\n        state: d,\n        updatedModel: c({\n          id: r,\n          cId: l,\n          metaData: i,\n          attributes: t\n        })\n      })) : s({\n        state: d,\n        model: c({\n          id: r,\n          cId: l,\n          metaData: i,\n          attributes: a\n        })\n      });\n    },\n        f = t.destroyMember = function (e) {\n      var t = e.id;\n      return e.state.models.filter(function (e) {\n        return e.id !== t;\n      });\n    },\n        m = t.destroyTempMemeber = function (e) {\n      var t = e.cId;\n      return e.state.models.filter(function (e) {\n        return e.cId !== t;\n      });\n    },\n        b = t.setMemberLoading = function (e) {\n      var t = e.id,\n          r = e.cId,\n          o = e.state,\n          a = e.queryParams,\n          i = n({\n        id: t,\n        cId: r,\n        state: o\n      });\n      return i ? u({\n        id: t,\n        cId: r,\n        state: o,\n        updatedModel: c({\n          id: t,\n          cId: r,\n          metaData: {\n            loading: !0,\n            queryParams: a\n          },\n          attributes: i.attributes\n        })\n      }) : s({\n        state: o,\n        model: c({\n          id: t,\n          cId: r,\n          metaData: {\n            loading: !0,\n            queryParams: a\n          }\n        })\n      });\n    },\n        p = t.setMemberLoadingError = function (e) {\n      var t = e.id,\n          r = e.cId,\n          a = e.state,\n          i = e.error,\n          d = n({\n        id: t,\n        cId: r,\n        state: a\n      });\n      return d || t ? d ? u({\n        id: t,\n        state: a,\n        cId: r,\n        updatedModel: c(o({}, d, {\n          metaData: {\n            loadingError: i,\n            __prevData: d.__prevData\n          }\n        }))\n      }) : s({\n        state: a,\n        model: c({\n          id: t,\n          metaData: {\n            loadingError: i\n          }\n        })\n      }) : a.models.slice(0);\n    },\n        v = t.getInitialState = function (e) {\n      var t = e.config,\n          r = e.resource,\n          o = (0, a.getResourceNameSpace)({\n        config: t,\n        resource: r\n      }),\n          i = \"attributes\" === o,\n          n = t.resources[r] || {},\n          s = (0, a.getResourceIdAttribute)({\n        config: t,\n        resource: r\n      }),\n          u = void 0;\n      return i ? (u = n[o] ? n[s] || n.attributes[s] : void 0, c({\n        id: u,\n        idAttribute: s,\n        attributes: n.attributes\n      })) : d({\n        models: (n.models || []).map(function (e) {\n          return c({\n            idAttribute: s,\n            id: e[s],\n            attributes: e\n          });\n        })\n      });\n    };\n\n    t[\"default\"] = {\n      apiDefaultState: i,\n      findModel: n,\n      createNewModel: c,\n      createNewCollection: d,\n      collectionWithNewModel: s,\n      collectionWithUpdatedModel: u,\n      setMemberAttributes: l,\n      destroyMember: f,\n      destroyTempMemeber: m,\n      setMemberLoading: b,\n      setMemberLoadingError: p,\n      getInitialState: v\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var r = arguments[t];\n\n        for (var o in r) {\n          Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);\n        }\n      }\n\n      return e;\n    },\n        a = t.index = function (e) {\n      var t = e.resource,\n          r = e.controller;\n      return {\n        type: t + \".INDEX\",\n        data: {\n          queryParams: e.queryParams\n        },\n        controller: r\n      };\n    },\n        i = t.show = function (e) {\n      var t = e.id,\n          r = e.resource,\n          o = e.controller;\n      return {\n        type: r + \".SHOW\",\n        data: {\n          id: t,\n          queryParams: e.queryParams\n        },\n        controller: o\n      };\n    },\n        n = t.update = function (e) {\n      var t = e.id,\n          r = e.attributes,\n          a = e.resource,\n          i = e.controller;\n      return {\n        type: a + \".UPDATE\",\n        data: o({\n          id: t\n        }, r),\n        controller: i\n      };\n    },\n        c = t.create = function (e) {\n      return {\n        type: e.resource + \".CREATE\",\n        data: e.attributes,\n        controller: e.controller\n      };\n    },\n        d = t.destroy = function (e) {\n      var t = e.id;\n      return {\n        type: e.resource + \".DESTROY\",\n        data: {\n          id: t\n        },\n        controller: e.controller\n      };\n    };\n\n    t[\"default\"] = {\n      index: a,\n      show: i,\n      update: n,\n      create: c,\n      destroy: d\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = r(0);\n\n    t[\"default\"] = function () {\n      for (var e = arguments.length, t = Array(e), r = 0; r < e; r++) {\n        t[r] = arguments[r];\n      }\n\n      var a = (0, o.getConfig)({\n        config: t[0]\n      }) || {},\n          i = Object.assign({}, a, {\n        resources: Object.assign({}, a.resources)\n      });\n      return t.map(function (e) {\n        var t = (0, o.getConfig)({\n          config: e\n        });\n\n        if (t.resources) {\n          var r = {};\n          return Object.keys(t.resources || {}).forEach(function (e) {\n            var i = t.resources[e];\n            \"baseUrl\" === e && \"string\" == typeof i || \"optimisticUpdateEnabled\" === e && (0, o.isBool)(i) || (r[e] = Object.assign({}, i, {\n              baseUrl: i.baseUrl || t.resources.baseUrl || a.baseUrl,\n              optimisticUpdateEnabled: (0, o.determinOptimisticUpdateSetting)({\n                resourceConfig: i,\n                config: t,\n                defaultConfig: a\n              })\n            }));\n          }), r;\n        }\n      }).filter(function (e) {\n        return void 0 !== e;\n      }).forEach(function (e) {\n        Object.keys(e).forEach(function (t) {\n          var r = e[t];\n          i.resources[t] = Object.assign({}, r);\n        });\n      }), i;\n    };\n  }]);\n});","map":null,"metadata":{},"sourceType":"module"}